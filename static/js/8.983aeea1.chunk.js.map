{"version":3,"sources":["components/Header.js"],"names":["Header","theme","useState","stats","setStats","loading","setLoading","affectedCountries","setAffectedCountries","useEffect","setTimeout","radialData","fetch","then","data","json","colors","totalCases","cases","i","Object","keys","indexOf","_","forEach","name","str","push","charAt","toUpperCase","substr","length","value","fill","catch","err","console","error","H2","styled","h2","props","className","style","color","country","activeIdx"],"mappings":"8VASe,SAASA,EAAT,GACd,IADiCC,EAClC,EADkCA,MAClC,EAC8BC,mBAAS,IADvC,mBACWC,EADX,KACkBC,EADlB,OAEkCF,oBAAS,GAF3C,mBAEWG,EAFX,KAEoBC,EAFpB,OAGsDJ,mBAAS,GAH/D,mBAGWK,EAHX,KAG8BC,EAH9B,KAKIC,qBAAU,WACNC,YAAW,WACP,IAAIC,EAAa,GACjBC,MAAM,oCACLC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GACF,IAAME,EAAS,CACX,WAAc,UACd,OAAU,UACV,YAAe,UACf,UAAa,UACb,OAAU,UACV,SAAY,UACZ,eAAkB,WAGtBR,EAAqBM,EAAKP,mBAC1B,IAAIU,EAAaH,EAAKI,MAEtB,IAAK,IAAIC,KAAKL,GAC8B,IAApCM,OAAOC,KAAKL,GAAQM,QAAQH,WACrBL,EAAKK,GAIpBI,IAAEC,QAAQV,GAAM,SAAUA,EAAMW,GAjCjC,IAACC,EAkCIf,EAAWgB,KAAK,CACZF,MAnCRC,EAmCqBD,EAnCbC,EAAIE,OAAO,GAAGC,cAAgBH,EAAII,OAAO,EAAGJ,EAAIK,SAoChDC,MAAOlB,EACPmB,KAAMjB,EAAOS,GACbR,WAAYA,OAIpBb,EAASO,GACTL,GAAW,MACZ4B,OAAM,SAAAC,GACLC,QAAQC,MAAMF,QAEnB,OACJ,IAGH,IAAMG,EAAKC,IAAOC,GAAV,KACK,SAAAC,GAAK,MAAmB,QAAfA,EAAMxC,MAAkB,OAAS,UAIvD,OACI,yBAAKyC,UAAU,mBACX,kBAACJ,EAAD,CAAIrC,MAAOA,GAAX,sBACI,uBAAG0C,MAAO,CACNC,MAAO,QACPrC,IAENF,EAAsF,kBAAC,IAAD,CAAQJ,MAAOA,IAA3F,kBAAC,UAAD,CAAc4C,QAAQ,SAAS5C,MAAOA,EAAOa,KAAMX,EAAO2C,UAAW,O","file":"static/js/8.983aeea1.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Header.css';\r\nimport PieComponent from './Pie'\r\nimport styled from 'styled-components'\r\nimport Loader from './Loader'\r\nimport _ from 'lodash'\r\n\r\nconst ucword = (str) => str.charAt(0).toUpperCase() + str.substr(1, str.length)\r\n\r\nexport default function Header ({ theme }) \r\n{\r\n    const [stats, setStats] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [affectedCountries, setAffectedCountries] = useState(0)\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            let radialData = []\r\n            fetch('https://corona.lmao.ninja/v2/all')\r\n            .then(data => data.json())\r\n            .then(data => {\r\n                const colors = {\r\n                    'todayCases': '#8DD1E1', // TodayCases\r\n                    'deaths': '#b33434', // Deaths\r\n                    'todayDeaths': '#e35146', // TodayDeaths\r\n                    'recovered': '#8884D8', // Recovered\r\n                    'active': '#A4DE6C', // Active\r\n                    'critical': '#d97b34', // Critical\r\n                    'todayRecovered': '#fca503'\r\n                };\r\n\r\n                setAffectedCountries(data.affectedCountries)\r\n                let totalCases = data.cases\r\n\r\n                for (let i in data) {\r\n                    if (Object.keys(colors).indexOf(i) === -1) {\r\n                        delete data[i]\r\n                    }\r\n                }\r\n                \r\n                _.forEach(data, function (data, name) {\r\n                    radialData.push({\r\n                        name: ucword(name),\r\n                        value: data,\r\n                        fill: colors[name],\r\n                        totalCases: totalCases\r\n                    })\r\n                })\r\n\r\n                setStats(radialData)\r\n                setLoading(false)\r\n            }).catch(err => {\r\n                console.error(err);\r\n            })\r\n        }, 5000)\r\n    }, [])\r\n\r\n\r\n    const H2 = styled.h2`\r\n        color: ${props => props.theme == 'dark' ? '#fff' : '#333'} !important;\r\n    `\r\n\r\n    const formatNumber = (value) =>  Number((value).toFixed(1)).toLocaleString();\r\n    return (\r\n        <div className=\"headerContainer\">\r\n            <H2 theme={theme}>AFFECTED COUNTRIES: \r\n                <i style={{\r\n                    color: 'red'\r\n                }}>{affectedCountries}</i>\r\n            </H2>\r\n            {!loading ? <PieComponent country=\"global\" theme={theme} data={stats} activeIdx={5}/> : <Loader theme={theme}/>}\r\n        </div>\r\n    )\r\n}"],"sourceRoot":""}